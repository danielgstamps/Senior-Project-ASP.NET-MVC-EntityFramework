@using Castle.Core.Internal
@model CapstoneProject.ViewModels.EvaluationReportData

<h3>
    Employee @Model.EmployeeName Evaluation Report (of Evaluation @Model.TypeName @Model.StageName --generated on @Model.CurrentDate)
</h3>
<table>
    <tr>
        <th></th>
        <th>Self </th>
        @if (!Model.Raters.IsNullOrEmpty())
        {
            foreach (var rater in Model.Raters)
            {
                <th>@rater.Role AVG</th>
            }
        }
    </tr>
    @{
        var questionNumber = 1;
    }
    @foreach (var category in Model.Categories)
    {
        <tr>
            <td></td>
            <td>
                @category.Name
            </td>
        </tr>
        for (int i = 0; i < category.Questions.Count; i++)
        {
            var answer = Model.EmployeeAnswers[questionNumber - 1];
            <tr>
                <td>
                    Question @questionNumber
                </td>
                <td>
                    @answer
                </td>
                @if (!Model.Raters.IsNullOrEmpty())
                {
                    foreach (var rater in Model.Raters)
                    {
                        switch (rater.Role)
                        {
                            case "Supervisor":
                                <td>
                                    @Model.SupervisorAvgAnswers[questionNumber - 1]
                                </td>
                                break;
                            case "Coworker":
                                <td>
                                    @Model.CoworkerAvgAnswers[questionNumber - 1]
                                </td>
                                break;
                            case "Supervisee":
                                <td>
                                    @Model.SuperviseeAvgAnswers[questionNumber - 1]
                                </td>
                                break;
                        }
                    }
                }
            </tr>
            questionNumber++;
        }
    }
</table>
