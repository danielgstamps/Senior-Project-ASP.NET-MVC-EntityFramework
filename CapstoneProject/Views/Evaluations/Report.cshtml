@model CapstoneProject.Models.Evaluation

@{
    ViewBag.Title = "Report";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var currentDate = DateTime.Today.ToString().Split(' ')[0];
}

<h3>
    Employee @Model.Employee.FirstName @Model.Employee.LastName Evaluation Report (of Evaluation @Model.Type.TypeName @Model.Stage.StageName --generated on @currentDate)
</h3>
<table>
    <tr>
        <th></th>
        <th>Self</th>
        <th>AVG Supervisor</th>
        <th>AVG Co-Worker</th>
        <th>AVG Supervisees</th>
        <th>Average</th>
    </tr>
    @foreach (var category in Model.Type.Categories)
    {
        <tr>
            <td></td>
            <td>
                @category.Name
            </td>
        </tr>
        var questionNumber = 1;
        foreach (var question in category.Questions)
        {
            var answer = Model.SelfAnswers.Split(',')[0];
            <tr>
                <td>
                    Question @questionNumber
                </td>
                <td>
                    @answer
                </td>
            </tr>
            questionNumber++;
        }
    }
</table>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.EvaluationID }) |
    @Html.ActionLink("Back to List", "Index")
</p>
